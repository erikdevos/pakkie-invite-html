<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Maak een pakkie</title>
    <link rel="stylesheet" href="style.css">

</head>
<body>
<section>
    <h1 class="align-left">Maak een pakkie</h1>
  <form id="eventForm">

    <div>
      <label for="eventText">Tekst</label>
      <input type="text" id="eventText" name="event-text" required>
    </div>

    <div>
      <label for="eventDate">Wanneer</label>
      <input type="text" id="eventDate" name="event-date" placeholder="21-12-2025" required>
    </div>

    <div>
      <label for="eventOrganiser">Van Wie</label>
      <input type="text" id="eventOrganiser" name="event-organiser" required>
    </div>

    <div>
      <label for="eventInvitee">Voor wie</label>
      <input type="text" id="eventInvitee" name="event-invitee" required>
    </div>

    <div>
      <label for="eventLocation">Waar</label>
      <input type="text" id="eventLocation" name="event-location" required>
    </div>
    <div>
        <button type="submit">Maak pakkie link</button>
    </div>
  </form>

    <hr>
  
    <p>
    <h2>Deel de link:</h2>
    <br>
    <a id="resultLink" href="" target="_blank"></a>
    <p>
        <button id="copyButton" disabled>Kopieer link</button>
    </p>
  </p>

  <script>
    const form = document.getElementById('eventForm')
    const resultLink = document.getElementById('resultLink')
    const copyButton = document.getElementById('copyButton')

    let generatedUrl = ''

    form.addEventListener('submit', event => {
      event.preventDefault()

      const formData = new FormData(form)
      const params = new URLSearchParams(formData)

    const baseUrl = new URL('index.html', window.location.href).href
      generatedUrl = `${baseUrl}?${params.toString()}`

      resultLink.href = generatedUrl
      resultLink.textContent = generatedUrl

      copyButton.disabled = false
    })

    copyButton.addEventListener('click', () => {
      if (!generatedUrl) return

      navigator.clipboard.writeText(generatedUrl)
    })
  </script>
</section>
</body>
</html>
